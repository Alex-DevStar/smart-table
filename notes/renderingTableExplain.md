üß© –ö–∞–∫ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ —á–µ—Ä–µ–∑ root –∏ cloneTemplate

–¢—ã –ø—Ä–∞–≤ ‚Äî –≤—Å—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Ç–∞–±–ª–∏—Ü—ã —Å—Ç—Ä–æ–∏—Ç—Å—è —á–µ—Ä–µ–∑ root, cloneTemplate –∏ –≤—Å—Ç–∞–≤–∫—É –≤ DOM. –î–∞–≤–∞–π –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–µ–º –ª–æ–≥–∏–∫—É –ø–æ—à–∞–≥–æ–≤–æ.

‚∏ª

üîπ 1. cloneTemplate(subName) ‚Äî –∫–ª–æ–Ω —à–∞–±–ª–æ–Ω–∞
	‚Ä¢	–ü–æ–ª—É—á–∞–µ—Ç id —à–∞–±–ª–æ–Ω–∞ (subName = ‚Äútable‚Äù, ‚Äúrow‚Äù, ‚Äúpagination‚Äù‚Ä¶)
	‚Ä¢	–ë–µ—Ä—ë—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ <template id="subName">
	‚Ä¢	–ö–ª–æ–Ω–∏—Ä—É–µ—Ç –ø–µ—Ä–≤—ã–π –¥–æ—á–µ—Ä–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç (template.content.firstElementChild.cloneNode(true)) ‚Äî –∏–º–µ–Ω–Ω–æ –æ–Ω –∏ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω –≤ DOM
	‚Ä¢	–ü—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –µ–≥–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–∞–º —Å data-name –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Ö –≤ elements

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

{
  container: <div>...</div>, // –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HTML-—ç–ª–µ–º–µ–Ω—Ç
  elements: { ... }           // —Å–ª–æ–≤–∞—Ä—å —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –ø–æ data-name
}


‚∏ª

üîπ 2. initTable({ tableTemplate, rowTemplate, before, after }, render)
	‚Ä¢	–í—ã–∑—ã–≤–∞–µ—Ç cloneTemplate(tableTemplate) ‚Üí —Å–æ–∑–¥–∞—ë—Ç root
	‚Ä¢	–ó–∞—Ç–µ–º:
	‚Ä¢	before.forEach(...) ‚Äî –≤—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∏–ª—å—Ç—Ä—ã, —Å—Ç–∞—Ç—É—Å) –ø–µ—Ä–µ–¥ –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Å—Ç—Ä–æ–∫–∞–º–∏
	‚Ä¢	after.forEach(...) ‚Äî –≤—Å—Ç–∞–≤–ª—è–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, pagination) –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫
	‚Ä¢	–ö–∞–∂–¥–∞—è –≤—Å—Ç–∞–≤–∫–∞:
	‚Ä¢	–¥–µ–ª–∞–µ—Ç root[subName] = cloneTemplate(subName) ‚Äî —Å–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É
	‚Ä¢	–¥–µ–ª–∞–µ—Ç root.container.prepend(...) –∏–ª–∏ append(...) ‚Äî –≤—Å—Ç–∞–≤–ª—è–µ—Ç –≤ DOM

‚∏ª

üîπ 3. sampleTable.render(result) ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
	‚Ä¢	–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏ render(action):

function render(action) {
  let state = collectState();
  let result = [...data];
  result = applyPagination(result, state, action);
  sampleTable.render(result);
}

	‚Ä¢	–í—ã–∑—ã–≤–∞–µ—Ç renderRow() –∏–ª–∏ –∞–Ω–∞–ª–æ–≥, —á—Ç–æ–±—ã –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –Ω—É–∂–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –≤ root.elements.rows
	‚Ä¢	–ó–∞–º–µ–Ω—è–µ—Ç, –¥–æ–ø–æ–ª–Ω—è–µ—Ç –∏–ª–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—ë—Ç —Å—Ç—Ä–æ–∫–∏ –≤ DOM

‚∏ª

üîπ 4. –ß—Ç–æ —Ç–∞–∫–æ–µ root –≤ –∏—Ç–æ–≥–µ:

root = {
  container: <div class="table">...</div>,
  elements: {
    rows: <div data-name="rows">...</div>,
    ...
  },
  pagination: {
    container: <div class="pagination-container">...</div>,
    elements: {
      pages: <div data-name="pages">...</div>,
      ...
    }
  },
  ...–¥—Ä—É–≥–∏–µ —Å–µ–∫—Ü–∏–∏
}


‚∏ª

üìå –í—ã–≤–æ–¥
	‚Ä¢	–í—Å—ë —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏–∑ <template>
	‚Ä¢	cloneTemplate() –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —à–∞–±–ª–æ–Ω –≤ ¬´–∂–∏–≤—É—é¬ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å container –∏ elements
	‚Ä¢	root —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã
	‚Ä¢	–í—Å—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –¥–æ—Å—Ç—É–ø –∫ DOM –∏–¥—ë—Ç —á–µ—Ä–µ–∑ root

–¢—ã –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–æ—á—É–≤—Å—Ç–≤–æ–≤–∞–ª. –¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ —Ç—ã —ç—Ç–æ –ø–æ–Ω—è–ª, —É —Ç–µ–±—è –µ—Å—Ç—å –≤ —Ä—É–∫–∞—Ö –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–ª–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü–µ–π.