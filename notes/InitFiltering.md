üìì initFiltering ‚Äî —Ä–∞–∑–±–æ—Ä –∏ –ª–æ–≥–∏–∫–∞

üîß –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è

export function initFiltering(elements, indexes) {
  Object.keys(indexes).forEach((elementName) => {
    elements[elementName].append(
      ...Object.values(indexes[elementName])
        .map(name => {
          const option = document.createElement('option');
          option.value = name;
          option.textContent = name;
          return option;
        })
    );
  });
}
üß© –ê—Ä–≥—É–º–µ–Ω—Ç—ã
	1.	elements ‚Äî –æ–±—ä–µ–∫—Ç DOM‚Äë—ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (<select>), –Ω–∞–ø—Ä–∏–º–µ—Ä:
  sampleTable.filter.elements

  –≠—Ç–æ –∫–ª—é—á ‚Üí DOM-—ç–ª–µ–º–µ–Ω—Ç. –ö–ª—é—á–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å data-name, –Ω–∞–ø—Ä–∏–º–µ—Ä searchBySeller.

	2.	indexes ‚Äî –æ–±—ä–µ–∫—Ç —Å –º–∞—Å—Å–∏–≤–∞–º–∏ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞:
  {
  searchBySeller: indexes.sellers
}
–ê indexes.sellers ‚Äî —ç—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç makeIndex(...), —Ç–æ –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç –≤–∏–¥–∞:
{
  "1": "–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞",
  "2": "–ë–æ—Ä–∏—Å –°–∏–¥–æ—Ä–æ–≤"
}
üß† –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è –ø–æ —à–∞–≥–∞–º
	1.	–ë–µ—Ä—ë—Ç –∫–ª—é—á–∏ indexes ‚Äî —ç—Ç–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä: ["searchBySeller"].
	2.	–ü—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –Ω–∏–º —á–µ—Ä–µ–∑ .forEach().
	3.	–ù–∞—Ö–æ–¥–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π DOM-—ç–ª–µ–º–µ–Ω—Ç —á–µ—Ä–µ–∑ elements[elementName].
	4.	–ü–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è (Object.values(...)) ‚Äî –∏–º–µ–Ω–∞ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤.
	5.	–°–æ–∑–¥–∞—ë—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ <option> —á–µ—Ä–µ–∑ .map().
	6.	–î–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö —á–µ—Ä–µ–∑ .append(...options).

‚∏ª
üìå –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ <select>
option.value = name;
option.textContent = name;

–¢–æ –µ—Å—Ç—å:
	‚Ä¢	value ‚Äî –Ω—É–∂–µ–Ω –¥–ª—è –ª–æ–≥–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (—á—Ç–æ –≤—ã–±—Ä–∞–Ω–æ)
	‚Ä¢	textContent ‚Äî –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (—á—Ç–æ –≤–∏–¥–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é)

‚∏ª

üîÑ –ö–∞–∫ —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å initData
const {data, ...indexes} = initData(sourceData);

	‚Ä¢	data ‚Üí –º–∞—Å—Å–∏–≤ –ø–æ–∫—É–ø–æ–∫
	‚Ä¢	indexes ‚Üí –æ–±—ä–µ–∫—Ç –∏–∑ sellers –∏ customers, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ makeIndex(...)
	‚Ä¢	indexes.sellers ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ indexes.searchBySeller –≤–Ω—É—Ç—Ä–∏ initFiltering

‚∏ª

üí° –ß—Ç–æ –¥–µ–ª–∞–µ—Ç makeIndex
export const makeIndex = (arr, field, val) => 
  arr.reduce((acc, cur) => ({
    ...acc,
    [cur[field]]: val(cur)
  }), {});
  {
  1: "–ò–º—è –§–∞–º–∏–ª–∏—è",
  2: "–ò–º—è –§–∞–º–∏–ª–∏—è",
}
üìå –¢—ã –ø–æ–Ω—è–ª, —á—Ç–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ–±—ä–µ–∫—Ç:
–∫–ª—é—á ‚Äî id,
–∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è (–ò–º—è –§–∞–º–∏–ª–∏—è), –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ <option>.

‚∏ª

‚úÖ –ì–ª–∞–≤–Ω—ã–µ –≤—ã–≤–æ–¥—ã
	‚Ä¢	initFiltering –∑–∞–ø–æ–ª–Ω—è–µ—Ç <select> —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.
	‚Ä¢	indexes ‚Äî —ç—Ç–æ –∑–∞—Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤), –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ makeIndex.
	‚Ä¢	Object.values() –¥–æ—Å—Ç–∞—ë—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–º–µ–Ω–∞) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ <option>.
	‚Ä¢	value –∏ textContent –Ω—É–∂–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã –ª–æ–≥–∏–∫–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.
	‚Ä¢	–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç, –∞ —Å–æ–∑–¥–∞—ë—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.
