# üìì `initFiltering` ‚Äî –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö

---

## üîß –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è `initFiltering`

`initFiltering(elements)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–≤–∞ –º–µ—Ç–æ–¥–∞:

1. `updateIndexes(elements, indexes)` ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç `<select>`-—ç–ª–µ–º–µ–Ω—Ç—ã –≤ DOM, –¥–æ–±–∞–≤–ª—è—è –≤ –Ω–∏—Ö `<option>` –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (`indexes`).
2. `applyFiltering(query, state, action)` ‚Äî —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç `query`-–æ–±—ä–µ–∫—Ç –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–∏–ª–∏ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –º–∞—Å—Å–∏–≤–µ), –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ —Ç–µ–∫—É—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤.

---

## üß© –ê—Ä–≥—É–º–µ–Ω—Ç—ã

### `elements`
–û–±—ä–µ–∫—Ç DOM-—ç–ª–µ–º–µ–Ω—Ç–æ–≤, –≥–¥–µ –∫–ª—é—á ‚Äî —ç—Ç–æ –∏–º—è –ø–æ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `searchBySeller`), –∞ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî HTML-—ç–ª–µ–º–µ–Ω—Ç —Ñ–∏–ª—å—Ç—Ä–∞ (`<input>` –∏–ª–∏ `<select>`). –ü—Ä–∏–º–µ—Ä:

```js
elements = {
  searchBySeller: document.querySelector('#filter-seller'),
  searchByCustomer: document.querySelector('#filter-customer')
}
```

### `indexes` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `updateIndexes`)
–≠—Ç–æ –æ–±—ä–µ–∫—Ç —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞. –ü—Ä–∏–º–µ—Ä:

```js
indexes = {
  searchBySeller: {
    "1": "–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞",
    "2": "–ë–æ—Ä–∏—Å –°–∏–¥–æ—Ä–æ–≤"
  }
}
```

---

## üß† –õ–æ–≥–∏–∫–∞ `updateIndexes(elements, indexes)`

1. –ü—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –∫–∞–∂–¥–æ–º—É –ø–æ–ª—é `indexes`, –Ω–∞–ø—Ä–∏–º–µ—Ä `searchBySeller`.
2. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä `"–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞"`) —Å–æ–∑–¥–∞—ë—Ç —ç–ª–µ–º–µ–Ω—Ç `<option>`.
3. –í—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ `<option>` –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π `<select>`.

üìå –ö–∞–∂–¥–æ–º—É `<option>` –ø—Ä–∏—Å–≤–∞–∏–≤–∞—é—Ç—Å—è:
- `value = –∏–º—è`, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–µ—Ä–≤–µ—Ä—É
- `textContent = –∏–º—è`, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

---

## üß† –õ–æ–≥–∏–∫–∞ `applyFiltering(query, state, action)`

### üî∏ –û—á–∏—Å—Ç–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞ (–µ—Å–ª–∏ –Ω–∞–∂–∞—Ç–∞ –∫–Ω–æ–ø–∫–∞ —Å `name="clear"`)
- –ù–∞—Ö–æ–¥–∏—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.
- –û—á–∏—â–∞–µ—Ç `<input>` –≤–Ω—É—Ç—Ä–∏.
- –û—á–∏—â–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ –≤ `state`.

### üî∏ –°–±–æ—Ä –∑–Ω–∞—á–µ–Ω–∏–π —Ñ–∏–ª—å—Ç—Ä–æ–≤
- –ü—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ `elements`.
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ —É —ç–ª–µ–º–µ–Ω—Ç–∞ –∑–Ω–∞—á–µ–Ω–∏–µ (`.value`).
- –î–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ –æ–±—ä–µ–∫—Ç `filter` –≤ –≤–∏–¥–µ:  
  `filter[–Ω–∞–∑–≤–∞–Ω–∏–µ_–ø–æ–ª—è] = –∑–Ω–∞—á–µ–Ω–∏–µ`.

### üî∏ –í–æ–∑–≤—Ä–∞—Ç query
- –ï—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä –Ω–µ –ø—É—Å—Ç ‚Äî –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç `query` –∏ `filter` –≤ –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç (—á–µ—Ä–µ–∑ `Object.assign`).
- –ï—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä –ø—É—Å—Ç ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `query` –∫–∞–∫ –µ—Å—Ç—å.

---

## ‚úÖ –í—ã–≤–æ–¥—ã

- `initFiltering` –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é ‚Äî –æ–Ω–∞ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ query-–æ–±—ä–µ–∫—Ç –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞.
- –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–µ `query`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–µ –¥–∞–Ω–Ω—ã—Ö.
- –û—á–∏—â–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ `action.name === "clear"`.

---

## ‚ùì –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –ó–∞—á–µ–º `filter[–∏–º—è]`, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ `–∏–º—è`?
–≠—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ query, —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä –º–æ–≥ —Ä–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä –∫–∞–∫ –ø–æ–¥–º–∞—Å—Å–∏–≤: `filter[seller]=–ê–Ω–Ω–∞`.

### –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Object.assign`?
–ß—Ç–æ–±—ã –Ω–µ –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –æ–±—ä–µ–∫—Ç `query`, –∞ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π.

"""
